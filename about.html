<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Nisha Rastogi ¬∑ UX Designer</title>
    <link rel="icon" type="image/png" href="assets/Nisha-Rastogi-logo.png">
    <link rel="stylesheet" href="styles.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Syne:wght@400;600;700&family=IBM+Plex+Mono:wght@300;400&display=swap" rel="stylesheet">
</head>
<body>
    <!-- Navigation -->
    <nav class="navbar">
        <a href="work.html" class="nav-logo">
            <img src="assets/Nisha-Rastogi-logo.png" alt="Nisha Rastogi" class="nav-logo-img">
        </a>
        <div class="nav-links">
            <a href="work.html" class="nav-link">Work</a>
            <a href="about.html" class="nav-link active">About</a>
            <a href="https://drive.google.com/file/d/1z3BOLQ2pjL5T3nCtnlhefMjVrU0gUPFs/view?usp=sharing" class="nav-link" target="_blank" rel="noopener">Resume</a>
        </div>
    </nav>

    <main class="about-container">
        
        <!-- Still Finding Myself Section -->
        <section class="finding-myself-section" id="hero-section">
            <!-- Loaded dynamically from projects.json -->
        </section>

        <hr class="section-divider">

        <!-- Values Section (My super powers) -->
        <section class="about-section values-section" id="values-section">
            <!-- Loaded dynamically from projects.json -->
        </section>

    </main>

    <hr class="section-divider">

    <!-- Testimonials Section (Full Width) - After My Super Powers -->
    <section class="testimonials-section" id="testimonials-section">
        <div class="testimonials-header">
            <h2 class="values-header">What people say about me</h2>
        </div>
        <div class="testimonials-track-wrapper">
            <div class="testimonials-track" id="testimonials-track">
                <!-- Loaded dynamically -->
            </div>
        </div>
        <div class="testimonials-pagination" id="testimonials-pagination">
            <!-- Pagination dots loaded dynamically -->
        </div>
    </section>

    <!-- How I Got Into UX Section -->
    <section class="ux-journey-section">
        <div class="ux-journey-container">
            <h2 class="values-header">How I got into UX</h2>
            <p class="ux-journey-intro">My journey started from my love for <strong>Automobiles</strong> ‚Äî the greatest machine built for humans! üöó</p>
            
            <div class="journey-timeline">
                <div class="journey-step">
                    <div class="journey-icon">üöó</div>
                    <div class="journey-content">
                        <h3>Automobile Engineering</h3>
                        <p>Studied how machines are designed for humans ‚Äî ergonomics, controls, and the driver experience.</p>
                    </div>
                </div>
                
                <div class="journey-connector">‚Üí</div>
                
                <div class="journey-step">
                    <div class="journey-icon">üí°</div>
                    <div class="journey-content">
                        <h3>The "Aha!" Moment</h3>
                        <p>Realized that designing for humans isn't just about machines ‚Äî it's about every experience.</p>
                    </div>
                </div>
                
                <div class="journey-connector">‚Üí</div>
                
                <div class="journey-step">
                    <div class="journey-icon">üé®</div>
                    <div class="journey-content">
                        <h3>Human-Centered Design</h3>
                        <p>Pivoted to UW's HCDE program to master the art of designing digital experiences.</p>
                    </div>
                </div>
                
                <div class="journey-connector">‚Üí</div>
                
                <div class="journey-step">
                    <div class="journey-icon">‚ú®</div>
                    <div class="journey-content">
                        <h3>Today: AI Products</h3>
                        <p>Now I design AI experiences at Salesforce ‚Äî still making machines work better for humans!</p>
                    </div>
                </div>
            </div>
            
            <p class="ux-journey-footer">From car dashboards to AI dashboards ‚Äî the mission remains the same: <em>design for humans</em>.</p>
        </div>
    </section>

    <!-- Footer -->
    <footer class="about-footer" id="site-footer">
        <!-- Loaded dynamically -->
    </footer>

    <script>
        // ========== Load About Page Content ==========
        async function loadAboutPageContent() {
            try {
                const response = await fetch('data/projects.json');
                const data = await response.json();
                const aboutPage = data.aboutPage;
                
                // Render Hero Section (Still Finding Myself)
                const heroSection = document.getElementById('hero-section');
                if (heroSection && aboutPage.hero) {
                    // Get image descriptions from JSON or use defaults
                    const imageDescriptions = aboutPage.hero.imageDescriptions || [
                        "Exploring the vibrant streets of Lisbon, Portugal",
                        "Adventure in the desert landscapes",
                        "Capturing the beauty of tea plantations",
                        "Training at CrossFit, pushing limits",
                        "Wandering through historic city squares"
                    ];
                    
                    const imagesHTML = aboutPage.hero.images.map((img, index) => {
                        const description = imageDescriptions[index] || 'Personal photo';
                        return `
                        <div class="bento-item bento-item-${index + 1}" data-image-index="${index}" data-description="${description}">
                            <img src="${img}" alt="Personal photo">
                            <div class="bento-overlay">
                                <div class="bento-overlay-content">
                                    <p class="bento-overlay-text">${description}</p>
                                </div>
                            </div>
                        </div>
                    `;
                    }).join('');
                    
                    // Build links buttons
                    const links = aboutPage.hero.links || {};
                    let linksHTML = '';
                    if (links.linkedin || links.substack) {
                        linksHTML = '<div class="hero-links">';
                        if (links.linkedin) {
                            linksHTML += `<a href="${links.linkedin}" target="_blank" rel="noopener" class="hero-link-btn">
                                <span class="footer-button-icon">üíº</span>
                                <span>LinkedIn</span>
                            </a>`;
                        }
                        if (links.substack) {
                            linksHTML += `<a href="${links.substack}" target="_blank" rel="noopener" class="hero-link-btn">
                                <span class="footer-button-icon">‚úçÔ∏è</span>
                                <span>Substack</span>
                            </a>`;
                        }
                        linksHTML += '</div>';
                    }
                    
                    // Build metrics HTML
                    let metricsHTML = '';
                    if (aboutPage.metrics && aboutPage.metrics.length > 0) {
                        const metricsItems = aboutPage.metrics.map(metric => `
                            <div class="metric-item">
                                <div class="metric-value">${metric.value}</div>
                                <div class="metric-label">${metric.label}</div>
                            </div>
                        `).join('');
                        metricsHTML = `<div class="metrics-grid">${metricsItems}</div>`;
                    }
                    
                    heroSection.innerHTML = `
                        <h1 class="finding-title">${aboutPage.hero.title}</h1>
                        <p class="finding-subtitle">${aboutPage.hero.subtitle}</p>
                        ${metricsHTML}
                        ${linksHTML}
                        <div class="bento-grid">
                            ${imagesHTML}
                        </div>
                    `;
                    
                    // Initialize rotating text
                    initRotatingText();
                    
                    // Initialize bento grid hover functionality
                    initBentoHover();
                }
                
                // Render Values Section
                const valuesSection = document.getElementById('values-section');
                if (valuesSection && aboutPage.values) {
                    const valuesHTML = aboutPage.values.map((value, index) => {
                        return `
                            <div class="value-card">
                                <h3 class="value-title">${value.title}</h3>
                                <p class="value-description">${value.description}</p>
                            </div>
                        `;
                    }).join('');
                    
                    const valuesTitle = aboutPage.valuesTitle || 'How I create clarity, momentum, and impact...';
                    valuesSection.innerHTML = `
                        <div class="values-layout">
                            <h2 class="values-header">${valuesTitle}</h2>
                            <div class="values-grid">
                                ${valuesHTML}
                            </div>
                        </div>
                    `;
                }
                
                // Update Testimonials Title
                const testimonialsHeader = document.querySelector('.testimonials-header .values-header');
                if (testimonialsHeader) {
                    testimonialsHeader.textContent = aboutPage.testimonialsTitle || 'What people say about me';
                }
                
                // Render Testimonials - Auto-scrolling track on desktop, swipe on mobile
                const testimonialsTrack = document.getElementById('testimonials-track');
                const testimonialsPagination = document.getElementById('testimonials-pagination');
                
                if (testimonialsTrack && aboutPage.testimonials && aboutPage.testimonials.length > 0) {
                    const testimonials = aboutPage.testimonials;
                    
                    function renderTestimonials() {
                        const isMobile = window.innerWidth <= 900;
                        
                        // On desktop: Duplicate testimonials 3 times for seamless loop
                        // On mobile: Use original testimonials for pagination
                        const allTestimonials = isMobile ? testimonials : [...testimonials, ...testimonials, ...testimonials];
                        
                        // Render cards
                        testimonialsTrack.innerHTML = allTestimonials.map((t) => `
                            <div class="testimonial-card">
                                <p class="testimonial-quote">${t.recommendation}</p>
                                <div class="testimonial-author">
                                    ${t.image ? `<div class="testimonial-avatar"><img src="${t.image}" alt="${t.name}"></div>` : '<div class="testimonial-avatar-placeholder"></div>'}
                                    <div class="testimonial-info">
                                        <h4>${t.name}</h4>
                                        <p>${t.company}</p>
                                    </div>
                                </div>
                            </div>
                        `).join('');
                        
                        // Render and initialize pagination on mobile
                        if (isMobile && testimonialsPagination) {
                            testimonialsPagination.innerHTML = testimonials.map((_, i) => 
                                `<div class="pagination-dot ${i === 0 ? 'active' : ''}" data-index="${i}"></div>`
                            ).join('');
                            
                            // Small delay to ensure DOM is ready
                            setTimeout(() => {
                                initTestimonialSwipe(testimonialsTrack, testimonials.length);
                            }, 100);
                        } else if (testimonialsPagination) {
                            testimonialsPagination.innerHTML = '';
                        }
                    }
                    
                    // Initial render
                    renderTestimonials();
                    
                    // Re-render on window resize
                    let resizeTimeout;
                    window.addEventListener('resize', () => {
                        clearTimeout(resizeTimeout);
                        resizeTimeout = setTimeout(renderTestimonials, 300);
                    });
                }
                
                function initTestimonialSwipe(track, count) {
                    if (!track) return;
                    
                    const wrapper = track.parentElement;
                    if (!wrapper) return;
                    
                    let currentIndex = 0;
                    const cards = track.querySelectorAll('.testimonial-card');
                    const dots = document.querySelectorAll('.pagination-dot');
                    
                    console.log('Initializing testimonial swipe:', { count, cardsCount: cards.length, dotsCount: dots.length });
                    
                    if (cards.length === 0 || dots.length === 0) {
                        console.error('Cards or dots not found');
                        return;
                    }
                    
                    // Update active dot
                    function updateActiveDot(index) {
                        dots.forEach((dot, i) => {
                            dot.classList.toggle('active', i === index);
                        });
                    }
                    
                    // Handle scroll to update pagination
                    let scrollTimeout;
                    wrapper.addEventListener('scroll', () => {
                        clearTimeout(scrollTimeout);
                        scrollTimeout = setTimeout(() => {
                            const card = cards[0];
                            if (!card) return;
                            
                            const cardWidth = card.offsetWidth;
                            const gap = 16;
                            const scrollLeft = wrapper.scrollLeft;
                            const newIndex = Math.round(scrollLeft / (cardWidth + gap));
                            
                            if (newIndex !== currentIndex && newIndex >= 0 && newIndex < count) {
                                currentIndex = newIndex;
                                updateActiveDot(currentIndex);
                            }
                        }, 100);
                    }, { passive: true });
                    
                    // Handle dot clicks
                    dots.forEach((dot, index) => {
                        dot.addEventListener('click', () => {
                            const card = cards[0];
                            if (!card) return;
                            
                            currentIndex = index;
                            const cardWidth = card.offsetWidth;
                            const gap = 16;
                            const scrollLeft = index * (cardWidth + gap);
                            
                            console.log('Dot clicked:', { index, scrollLeft, cardWidth });
                            
                            wrapper.scrollTo({
                                left: scrollLeft,
                                behavior: 'smooth'
                            });
                            updateActiveDot(index);
                        });
                    });
                }
                
                // Render Footer
                const footer = document.getElementById('site-footer');
                const profile = data.profile;
                if (footer && profile) {
                    // Build footer buttons
                    const buttons = [];
                    
                    // LinkedIn button
                    if (profile.social?.linkedin) {
                        buttons.push(`
                            <a href="${profile.social.linkedin}" class="footer-button" target="_blank" rel="noopener">
                                <span class="footer-button-icon">üíº</span>
                                <span>LinkedIn</span>
                            </a>
                        `);
                    }
                    
                    // Resume button
                    if (profile.resume) {
                        buttons.push(`
                            <a href="${profile.resume}" class="footer-button" target="_blank" rel="noopener">
                                <span class="footer-button-icon">üìÑ</span>
                                <span>Resume</span>
                            </a>
                        `);
                    }
                    
                    // Substack button
                    if (profile.social?.substack) {
                        buttons.push(`
                            <a href="${profile.social.substack}" class="footer-button" target="_blank" rel="noopener">
                                <span class="footer-button-icon">‚úçÔ∏è</span>
                                <span>Substack</span>
                            </a>
                        `);
                    }
                    
                    const currentYear = new Date().getFullYear();
                    
                    footer.innerHTML = `
                        <h2 class="footer-heading">Let's Work Together</h2>
                        <p class="footer-subtext">I'm always interested in hearing about new opportunities and collaborations.</p>
                        <div class="footer-buttons">
                            ${buttons.join('')}
                        </div>
                        <p class="footer-copyright">¬© ${currentYear} Nisha Rastogi. Designed & built with care.</p>
                    `;
                }
            } catch (error) {
                console.error('Error loading about page content:', error);
            }
        }
        
        // Rotating text animation (simple swap)
        function initRotatingText() {
            const rotatingTexts = [
                { text: "shaping product strategy", color: "#e8f0ff" },
                { text: "crafting user experiences", color: "#e8f8e8" },
                { text: "rapidly prototyping ideas", color: "#fff0e8" },
                { text: "shipping real features", color: "#f0e8ff" }
            ];
            
            const textElement = document.querySelector('.rotating-text');
            if (!textElement) return;
            
            let currentIndex = 0;
            const swapSpeed = 3000; // Time between swaps (3 seconds)
            
            function swapText() {
                const currentText = rotatingTexts[currentIndex];
                const highlightColor = currentText.color;
                
                // Set text and highlight color
                textElement.textContent = currentText.text;
                textElement.style.backgroundColor = highlightColor;
                
                // Move to next text
                currentIndex = (currentIndex + 1) % rotatingTexts.length;
                
                // Schedule next swap
                setTimeout(swapText, swapSpeed);
            }
            
            // Start with first text
            swapText();
        }
        
        // Bento grid hover functionality
        function initBentoHover() {
            const bentoGrid = document.querySelector('.bento-grid');
            const bentoItems = document.querySelectorAll('.bento-item');
            
            if (!bentoGrid || !bentoItems.length) return;
            
            // Skip hover interactions on mobile/touch devices
            const isMobile = window.innerWidth <= 900 || 'ontouchstart' in window;
            if (isMobile) return;
            
            // Pause animations on grid hover (desktop only)
            bentoGrid.addEventListener('mouseenter', () => {
                bentoItems.forEach(item => {
                    item.style.animationPlayState = 'paused';
                });
            });
            
            // Resume animations when leaving grid (desktop only)
            bentoGrid.addEventListener('mouseleave', () => {
                bentoItems.forEach(item => {
                    item.style.animationPlayState = 'running';
                });
            });
            
            // Show overlay on individual item hover (desktop only)
            bentoItems.forEach(item => {
                const overlay = item.querySelector('.bento-overlay');
                if (!overlay) return;
                
                item.addEventListener('mouseenter', () => {
                    overlay.classList.add('active');
                });
                
                item.addEventListener('mouseleave', () => {
                    overlay.classList.remove('active');
                });
            });
        }
        
        // Load content on page load, then init animations
        loadAboutPageContent().then(() => {
            // Small delay to ensure DOM is updated
            setTimeout(initScrollAnimations, 100);
        });

        // ========== Scroll Animations (like HappyRobot) ==========
        function initScrollAnimations() {
            console.log('Initializing scroll animations...');
            
            // Add scroll-animate class to sections
            const animateSections = [
                '.values-section',
                '.testimonials-section',
                '.ux-journey-section',
                '.about-footer'
            ];
            
            animateSections.forEach(selector => {
                const el = document.querySelector(selector);
                if (el) {
                    el.classList.add('scroll-animate');
                    console.log('Added scroll-animate to:', selector);
                }
            });
            
            // Animate hero elements on load
            const heroTitle = document.querySelector('.finding-title');
            const heroSubtitle = document.querySelector('.finding-subtitle');
            const rotatingText = document.querySelector('.rotating-text-container');
            const heroLinks = document.querySelector('.hero-links');
            
            [heroTitle, heroSubtitle, rotatingText, heroLinks].forEach((el, i) => {
                if (el) {
                    el.style.opacity = '0';
                    el.style.transform = 'translateY(30px)';
                    el.style.transition = 'opacity 0.8s cubic-bezier(0.16, 1, 0.3, 1), transform 0.8s cubic-bezier(0.16, 1, 0.3, 1)';
                    el.style.transitionDelay = `${i * 0.15}s`;
                    
                    // Trigger animation
                    setTimeout(() => {
                        el.style.opacity = '1';
                        el.style.transform = 'translateY(0)';
                    }, 50);
                }
            });
            
            // Add animation to value cards
            document.querySelectorAll('.value-card').forEach((card, i) => {
                card.classList.add('scroll-animate');
                card.style.transitionDelay = `${i * 0.1}s`;
            });
            
            // Add animation to journey steps
            document.querySelectorAll('.journey-step').forEach((step, i) => {
                step.classList.add('scroll-animate');
                step.style.transitionDelay = `${i * 0.15}s`;
            });

            // Add to testimonial cards
            document.querySelectorAll('.testimonial-card').forEach((card, i) => {
                card.classList.add('scroll-animate');
                card.style.transitionDelay = `${i * 0.1}s`;
            });

            // Intersection Observer for triggering animations
            const observer = new IntersectionObserver((entries) => {
                entries.forEach(entry => {
                    if (entry.isIntersecting) {
                        entry.target.classList.add('in-view');
                    }
                });
            }, {
                threshold: 0.1,
                rootMargin: '0px 0px -50px 0px'
            });

            // Observe all animated elements
            document.querySelectorAll('.scroll-animate, .scroll-animate-scale, .scroll-animate-left, .scroll-animate-right').forEach(el => {
                observer.observe(el);
            });
        }
    </script>
</body>
</html>
